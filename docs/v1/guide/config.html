
<!DOCTYPE html>
<html lang="en">
    <head>

    <title>Configuration — CatLib</title>
    <meta charset="utf-8">
    <meta name="description" content="CatLib Unity Framework.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="stylesheet" href="/css/page.css">

    <script src="/js/vue.js"></script>
    <script src="/js/jquery.js"></script>
    </head>

    <body>
        
            <nav class="nav">
    <div class="border">
        <img src="/images/logo.png" />
        <button class="hiden-in-phone">V0.8</button>
        <button id="btn-menu" class="hiden-in-pc">Menu</button>
        <ul class="nav-link hiden-in-phone">
            <!--li>
                <form id="search-form">
                    <input type="text" id="search-query" class="search-query">
                </form>
            </li!-->
            <li><a href="https://github.com/catlib/catlib" class="nav-link-li">Download</a></li>
            <li><a href="/v1/guide/use.html" class="nav-link-li">Case</a></li>
            <li><a href="/v1/guide/version.html" class="nav-link-li">Release Notes</a></li>
            <li><a href="/v1/guide/contribution.html" class="nav-link-li">Contribution</a></li>
            <li><a href="/v1/guide/index.html" class="nav-link-li">About</a></li>
            <li><a href="/" class="nav-link-li current">Index</a></li>
        </ul>
    </div>
</nav>

<div id="container" class="container clear">
    <section class="sidebar clearfix">
    <ul>
        
            
            
                <li><h3>Basis</h3></li>
            
            
            
            <li>
                <p><a href="/v1/guide/index.html" class="sidebar-link">Introduction</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/upgrade.html" class="sidebar-link">Upgrade Guide</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/version.html" class="sidebar-link">Release Notes</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/error.html" class="sidebar-link">Common mistakes</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/style.html" class="sidebar-link">Code Style</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/contribution.html" class="sidebar-link">Contribution</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/use.html" class="sidebar-link">Use case</a></p>
            </li>
        
            
            
            
                <li><h3>System Structure</h3></li>
            
            
            <li>
                <p><a href="/v1/guide/service-provider.html" class="sidebar-link">Service provider</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/container.html" class="sidebar-link">Container</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/application.html" class="sidebar-link">CatLib Core</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/api.html" class="sidebar-link">API</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/facade.html" class="sidebar-link">Service facade</a></p>
            </li>
        
            
            
            
            
                <li><h3>Core Components</h3></li>
            
            <li>
                <p><a href="/v1/guide/config.html" class="sidebar-link current">Configuration</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/routing.html" class="sidebar-link">Routing</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/stl.html" class="sidebar-link">Standard library</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/file-system.html" class="sidebar-link">File system</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/time.html" class="sidebar-link">Time</a></p>
            </li>
        
            
            
            
            
            <li>
                <p><a href="/v1/guide/timer.html" class="sidebar-link">Timer</a></p>
            </li>
        
    </ul>
</section>
    <article class="clearfix">
    <h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><blockquote>
<p>This article is translated by machine</p>
</blockquote>
<p>CatLib allows you to configure the system to configure the functional parameters required by the service provider. Each service provider will provide their own unique configuration information. You can learn about the configuration information from these providers’ documents.</p>
<p>CatLib’s configuration system helps you find, load, autofill, any type of configuration you need. Regardless of what the source may be (code embedded, CSV, YAML, XML, INI file or database).</p>
<h3 id="Basic-concept"><a href="#Basic-concept" class="headerlink" title="Basic concept"></a>Basic concept</h3><p>CatLib’s configuration system allows you to extend multiple independent configuration containers, each of which can be configured with a different configuration locator to get the configuration.</p>
<p>What is the configuration locator? The configuration locator is used to get configuration from code, CSV, YAML, XML, INI files or databases.</p>
<blockquote>
<p>Note that all CatLib components will get data from the default configuration locator</p>
</blockquote>
<h3 id="Document-context"><a href="#Document-context" class="headerlink" title="Document context"></a>Document context</h3><p>The snippet code that is demonstrated in the document does not have a special description using the following contextual relationship and the default configuration container:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">IConfigManager manager = App.Instance.Make&lt;IConfigManager&gt;();</div><div class="line">IConfig config = manager.Default;</div></pre></td></tr></table></figure>
<h3 id="Default-configuration-container"><a href="#Default-configuration-container" class="headerlink" title="Default configuration container"></a>Default configuration container</h3><p>CatLib’s default configuration container, automatically mounted: Code configuration locator (used to get the configuration set from the code).</p>
<p>Your new expansion of the configuration container, will not mount any of the configuration locator, you need to manually mount.</p>
<h3 id="Get-the-configuration"><a href="#Get-the-configuration" class="headerlink" title="Get the configuration"></a>Get the configuration</h3><p>If you need to get the configuration from the configuration component, you can get it through the <code>Get</code> method. The first parameter is the default value of the configuration parameter. When the configuration does not exist will use the default value to fill the missing configuration.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">string</span> val = config.Get(<span class="string">"config.name"</span>, <span class="keyword">string</span>.Empty);</div></pre></td></tr></table></figure>
<h3 id="Set-and-save-configuration"><a href="#Set-and-save-configuration" class="headerlink" title="Set and save configuration"></a>Set and save configuration</h3><p>You can use the <code>Set</code> method to set the configuration data, the first parameter is the configuration name, the second parameter is the configuration value</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">config.Set(<span class="string">"config.name"</span>, <span class="string">"hello world"</span>);</div></pre></td></tr></table></figure>
<p>Simple <code>Set</code> does not save the data, you also need to call<code>Save</code> to store the data.</p>
<p>Note that not all configuration locators support saving data, for example: Code configuration locator will not save data, but will not throw an exception.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">config.Save();</div></pre></td></tr></table></figure>
<h3 id="Add-locator"><a href="#Add-locator" class="headerlink" title="Add locator"></a>Add locator</h3><p>Adding additional configuration locators provides the ability to configure the system to access different areas of data.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">config.AddLocator(<span class="keyword">new</span> UnitySettingLocator(), <span class="number">100</span>);</div><div class="line">config.AddLocator(<span class="keyword">new</span> CodeConfigLocator(), <span class="number">200</span>);</div></pre></td></tr></table></figure>
<p>The configuration locator allows the ‘priority’ to be passed to determine which configuration locator is used first, giving priority to the configuration data that was first matched.</p>
<blockquote>
<p>Note that when the configuration is configured, the configuration locator is traversed by priority, and if the configuration is found in the corresponding configuration locator, the configuration is overwritten and the iteration is terminated. If no configuration is found in all configuration locators, the configuration is written to the last configuration locator.</p>
</blockquote>
<h3 id="Provided-locator"><a href="#Provided-locator" class="headerlink" title="Provided locator"></a>Provided locator</h3><p>CatLib offers you the following two configuration locators, which you can choose according to the scene.</p>
<table>
<thead>
<tr>
<th>Locator name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CodeConfigLocator</code></td>
<td style="text-align:center">The code configures the locator to be able to set and read the configuration via code. The configuration of the code configuration locator is not saved.</td>
</tr>
<tr>
<td><code>UnitySettingLocator</code></td>
<td style="text-align:center">Unity provides the PlayerPrefs implementation of the configuration locator adaptation class. The configuration can be saved.</td>
</tr>
</tbody>
</table>
<h3 id="Add-converter"><a href="#Add-converter" class="headerlink" title="Add converter"></a>Add converter</h3><p>CatLib configuration system allows you to obtain any type from the configuration, you only need to achieve the type of converter can be corresponding.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">internal</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">BoolStringConverter</span> : <span class="title">ITypeStringConverter</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">string</span> <span class="title">ConvertToString</span>(<span class="params"><span class="keyword">object</span> <span class="keyword">value</span></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// To achieve conversion</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">object</span> <span class="title">ConvertFromString</span>(<span class="params"><span class="keyword">string</span> <span class="keyword">value</span>, Type to</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// To achieve conversion</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">config.AddConverter(<span class="keyword">typeof</span>(Bool) , <span class="keyword">new</span> BoolStringConverter());</div></pre></td></tr></table></figure>
<h3 id="Default-support-for-conversion"><a href="#Default-support-for-conversion" class="headerlink" title="Default support for conversion"></a>Default support for conversion</h3><p>CatLib default configuration container defaults to the following conversion types:</p>
<table>
<thead>
<tr>
<th>Support type</th>
<th style="text-align:center">Conversion processing class</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Bool</code></td>
<td style="text-align:center">BoolStringConverter</td>
</tr>
<tr>
<td><code>Byte</code></td>
<td style="text-align:center">ByteStringConverter</td>
</tr>
<tr>
<td><code>Char</code></td>
<td style="text-align:center">CharStringConverter</td>
</tr>
<tr>
<td><code>DateTime</code></td>
<td style="text-align:center">DateTimeStringConverter</td>
</tr>
<tr>
<td><code>Decimal</code></td>
<td style="text-align:center">DecimalStringConverter</td>
</tr>
<tr>
<td><code>Double</code></td>
<td style="text-align:center">DoubleStringConverter</td>
</tr>
<tr>
<td><code>Enum</code></td>
<td style="text-align:center">EnumStringConverter</td>
</tr>
<tr>
<td><code>Int16</code></td>
<td style="text-align:center">Int16StringConverter</td>
</tr>
<tr>
<td><code>Int32</code></td>
<td style="text-align:center">Int32StringConverter</td>
</tr>
<tr>
<td><code>Int64</code></td>
<td style="text-align:center">Int64StringConverter</td>
</tr>
<tr>
<td><code>SByte</code></td>
<td style="text-align:center">SByteStringConverter</td>
</tr>
<tr>
<td><code>Single</code></td>
<td style="text-align:center">SingleStringConverter</td>
</tr>
<tr>
<td><code>String</code></td>
<td style="text-align:center">StringStringConverter</td>
</tr>
<tr>
<td><code>UInt16</code></td>
<td style="text-align:center">UInt16StringConverter</td>
</tr>
<tr>
<td><code>UInt32</code></td>
<td style="text-align:center">UInt32StringConverter</td>
</tr>
<tr>
<td><code>UInt64</code></td>
<td style="text-align:center">UInt64StringConverter</td>
</tr>
</tbody>
</table>
<h3 id="Expand-the-configuration-container"><a href="#Expand-the-configuration-container" class="headerlink" title="Expand the configuration container"></a>Expand the configuration container</h3><p>CatLib allows you to extend the configuration container, and you can define additional configuration containers by extending the method.</p>
<blockquote>
<p>If you want to use a custom configuration container, please implement the <code>IConfig</code> interface.</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">manager.Extend(()=&gt;</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Config();</div><div class="line">&#125;, <span class="string">"new"</span>)</div></pre></td></tr></table></figure>
<p>If you need to get a newly expanded configuration container, you only need to use <code>Get ()</code> to access.</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">IConfig extendConfig1 = manager.Get(<span class="string">"new"</span>);</div><div class="line">IConfig extendConfig2 = manager[<span class="string">"new"</span>];</div><div class="line"><span class="comment">// extendConfig1 == extendConfig2</span></div></pre></td></tr></table></figure>
<h3 id="Modify-the-default-configuration-container"><a href="#Modify-the-default-configuration-container" class="headerlink" title="Modify the default configuration container"></a>Modify the default configuration container</h3><p>You can use a custom configuration container instead of the default configuration container. Modifying the configuration container used by Default will be your replacement configuration container.</p>
<blockquote>
<p>Note! Because CatLib’s component configuration uses the default configuration container, it is prudent to modify the configuration of the component without knowing it.</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">manager.SetDefault(<span class="string">"new.default"</span>);</div><div class="line">IConfig config = manager.Default;</div></pre></td></tr></table></figure>
    <div class="footer">
        found mistake? Want to participate in editing?
        <a href="https://github.com/catlib/en.catlib.io/blob/master/src/v1/guide/config.md" target="_blank">
            Edit this page on Github!
        </a>
    </div>
</article>

<div class="sub-nav hiden-in-phone">
    <dl id="sub-nav">
        <dt>Content</dt>
        <dd v-for="(ele, index) in sub_nav">
           <a v-bind:href="ele.href">{{ ele.name }}</a>
        </dd>
    </dl>
</div> 
</div>

<footer>
    <div>
        <p>© Copyright 2017 catlib.io All Rights Reserved</p>
        <p>Meow meow, come and play meow ~</p>
    </div>
</footer>


<script>
var vm = new Vue({
    el : '#container',
    data: {
        sub_nav : [ ]
    },
    created:function(){
        var obj = [];
        $("article h3").each(function(){
            obj.push({name :  $(this).find("a").attr("title") , href : "#"+$(this).attr("id") });
        });

        this.sub_nav = obj;       
    }
});

var isShow = false;
$("nav").on("click","#btn-menu" , function(){

    if(!isShow){
        
        if($(document).scrollTop() > $(".sidebar").height() - 100){

            $('html, body').animate({scrollTop:0} , 300, "swing",function(){

                $(".sidebar").fadeIn();
                $(".container").animate({"left" : "15rem"}, 500,"swing");
            });
        }else{

                $(".sidebar").fadeIn();
                $(".container").animate({"left" : "15rem"}, 500,"swing");

        }

    }else{
        $(".sidebar").fadeOut();
        $(".container").animate({"left" : "0rem"}, 500,"swing");
    }
    isShow = !isShow;

});

$(".container").on("click" , "article" , function(){

    if(isShow){
        $(".sidebar").fadeOut();
        $(".container").animate({"left" : "0rem"}, 500,"swing");
        isShow = false;    
    }

});
</script>
        
    </body>
</html>